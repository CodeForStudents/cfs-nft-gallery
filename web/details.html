<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    <!-- Style CSS -->
    <link rel="stylesheet" href="style.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500&display=swap" rel="stylesheet">

    <title>NFT Gallery</title>
</head>
<body class="d-flex flex-column min-vh-100">
    <!-- Navbar -->
      <header>
        <nav class="navbar navbar-expand-lg shadow p-3 mb-5 navbar-dark bg-dark">
          <div class="container">
            <a class="navbar-brand" href="index.html">
              <img src="assets/logo/cfs-logo-white.svg"
              height="50"
              class=""
              alt="Code for Students Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse  navbar-collapse" id="navbarTogglerDemo02">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="gallery.html">All NFTs</a>
                </li>
                
              </ul>
              
            </div>
          </div>
        </nav>
      </header>
      <!-- Website Info -->
      <main>
        <div class="container" data-aos="zoom-out">
          <div class="clearfix">
            <div class="row align-items-center justify-content-evenly">
            
            </div>
            <dl class="row" id='NFT_Details'>
              <dt class=" col-sm-12 mb-5">
                <div id="image">
                
                
                </div>
              </dt>
            </dl>
          </div>
        </div>
      </main>
       <!-- Footer -->
       <footer class="mt-auto">
        <div class="container-fluid py-sm-5 py-1 bg-dark text-center mt-4">
          <p id="nils">&copy;Nils</p>
        </div>
      </footer>





<!-- Load Bootstrap Bundle with Popper -->
<script>

  const urlParams = new URLSearchParams(window.location.search);
  const param1 = urlParams.get('nftid');

  function fetchData() {
    return fetch("nft-data.json")
      .then(response => {
        return response.json();
      }).then(res => {
        console.log(res);
        res.forEach(element => {
          if (param1 == element.metadata.id) {
            console.log(element.metadata.id);
            //Image
            const col = document.getElementById('image');
            let link = document.createElement('a');
            link.href = 'gallery.html';
            let img = document.createElement('img');
            img.src = element.metadata.image;
            img.className = 'img-fluid';
            img.alt = element.metadata.description;
            link.appendChild(img);
            col.appendChild(link);

            //Text
            const row = document.getElementById('NFT_Details');
            let dtname = document.createElement('dt');
            dtname.className = 'col-sm-3 ';
            dtname.innerText = 'Name'
            let DDname = document.createElement('dd');
            DDname.className = "col-sm-9 mb-5 textDetails";
            DDname.innerText = element.metadata.name;
            let dtdescription = document.createElement('dt');
            dtdescription.className = "col-sm-3";
            dtdescription.innerText = 'Description';
            let dddescrpition = document.createElement('dd');
            dddescrpition.className = "col-sm-9 textDetails";
            dddescrpition.innerText = element.metadata.description;
            let dtID = document.createElement('dt');
            dtID.className = 'col-sm-3';
            dtID.innerText = 'ID';
            let ddID = document.createElement('dd');
            ddID.className = "col-sm-9 textDetails";
            ddID.innerText = '#' + element.metadata.id;
            let dtDate = document.createElement('dt');
            dtDate.className = 'col-sm-3';
            dtDate.innerText = 'Transaction Date'
            let date = new Date(element.transaction.transactionDate);
            date.toLocaleTimeString();
            let ddDate = document.createElement('dd');
            ddDate.className = "col-sm-9 textDetails";
            ddDate.innerText = date;
            let dttransHash = document.createElement('dt');
            dttransHash.className = 'col-sm-3';
            dttransHash.innerText = 'Transaction Hash';
            let ddtransHash = document.createElement('dd');
            ddtransHash.className = 'col-sm-9';
            let transHash = document.createElement('a');
            transHash.href = 'https://rinkeby.etherscan.io/tx/' + element.transaction.transactionHash;
            transHash.className = 'link-dark text-truncate test';
            transHash.innerText = element.transaction.transactionHash;
            ddtransHash.appendChild(transHash);
            
            row.appendChild(dtname);
            row.appendChild(DDname);
            row.appendChild(dtdescription);
            row.appendChild(dddescrpition);
            row.appendChild(dtID);
            row.appendChild(ddID);
            row.appendChild(dtDate);
            row.appendChild(ddDate);
            row.appendChild(dttransHash);
            row.appendChild(ddtransHash);
            
          
          }

          else {
            return null;
          }
        });
        })
    }
  
  fetchData();
  AOS.init();
  
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</body>
</html>